package com.oli.game;

import java.util.Random;

import com.badlogic.gdx.utils.Array;

public class TrackGenerator {
	
	Random random;
	
	//faked previous coords
	int LastX = -32;
	int LastY = 350;
	
	int Straight = 0;
	int Up = 1;
	int Down = 2;
	
	int XPos = 0;
	int[] LastDirectionChange;
	int Direction = Straight;
	int AmountOfDirChange;
	
	public TrackGenerator() {
		
		random = new Random();
		LastDirectionChange = new int[2];
		LastDirectionChange[0] = 0;
		LastDirectionChange[1] = 350;
		
	}
	
	public Array<int[]> GenerateSingleDebug() {
		
		Array<int[]> Track = new Array<int[]>();
		
		while (XPos <= 1248) {
			
			if (Direction == Straight) {
				
				if (LastDirectionChange[0] <= XPos + 320) {
					
					//Direction = random.nextInt(1) + 1;
					Direction = Up;
					AmountOfDirChange = random.nextInt(4) * 32;
					
				} else {
					
					int[] coords = new int[2];
					coords[0] = LastX + 32;
					coords[1] = LastY;
					LastX = coords[0];
					LastY = coords[1];
					XPos = coords[0];
					
					Track.add(coords);
					
				}
				
			} else if (Direction == Up) {
				
				int DirChangeSoFar = 0;
				
				if (DirChangeSoFar < AmountOfDirChange) {
				
					int[] coords = new int[2];
					coords[0] = LastX;
					coords[1] = LastY + 32;
					LastX = coords[0];
					LastY = coords[1];
					XPos = coords[0];
				
					Track.add(coords);
					
					DirChangeSoFar += 32;
					
				} else {
					
					Direction = Straight;
					
				}
				
			}
			
		}
		
		return Track;
		
	}

}
